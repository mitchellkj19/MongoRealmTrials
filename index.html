<html>
<head>
   <script src="https://unpkg.com/realm-web@1.2.0/dist/bundle.iife.js"></script>
   <script>

      const app = new Realm.App({ id: "validator-react-web-0-zefce" });
 
      // Create an anonymous credential
      const credentials = Realm.Credentials.anonymous();
      
      async function authenticateUser(credentials) {
          try {
              // Authenticate the user
              user = await app.logIn(credentials);
              // `App.currentUser` updates to match the logged in user
              assert(user.id === app.currentUser.id)
              return user
          } catch(err) {
              console.error("Failed to log in", err);
          }
      }

      const credentials = Realm.Credentials.anonymous();
      var user = authenticateUser(credentials)

      const summed = await user.functions.sum(2,3);
      assert(summed === 5);

      const mongodb = app.currentUser.mongoClient("mongodb-atlas");
      const plants = mongodb.db("dermaviz-test").collection("dermaviz-test-collection");
 
      const result = await plants.findOne({ subjectID: "C" });
      console.log("result", result);

   </script>

</head>
<body>
   <h3>Hello MongoRealmTrials</h3>
   <div>{summed}</div>
</body>
</html>
